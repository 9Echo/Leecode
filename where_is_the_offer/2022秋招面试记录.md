## 2022秋招面试记录

[toc]

#### 7.18字节一面（测开——产品研发）

下午6点，一个小时多一点

1. 自我介绍、项目介绍、最大的收获是什么
2. 为什么会报测试开发岗位
3. 知道哪些测试方法（答黑白盒测试）
4. 黑白盒测试有什么区别
5. 如何测试视频网站的弹幕（讲了很久）
6. 如果视频突然闪退有哪些原因
7. 手撕算法题——最长不重复字串（要求十分钟写完）

——————八股文分割线——————

1. 计算机网络哪七层（太简单以至于忘了讲表示层，面试官提醒我少说了一个）
2. 应用层、传输层、网络层分别有哪些协议
3. HTTP和HTTPS有什么区别
4. udp和tcp有哪些区别
5. 什么是死锁
6. 死锁有什么条件（前一个小时刚背但还是忘了只答出来两个）
7. 进程和线程有什么区别
8. 你觉得你有哪些优点？缺点？如何改进自己的缺点？
9. 反问

八股文全是3个小时内看过的，但答得都不是很顺畅，每个问题也就答出来1/3，感觉还是有点紧张，脑子没法静下来思考。

#### 7.21百度测开一面（技术中台）

下午四点，5点10多结束

1. 自我介绍、项目介绍
2. 你没有实习吗？（没有）只有这两个项目吗？（是的）【问到这里超级心虚
3. 为什么报测开岗？
4. 算法题：lc415
5. 如何设计上述代码的测试样例
6. 算法题：求一个给定数组的最大非连续数字的和，类似lc198，但是lc的里保证了数字为非负，面试官给的是任意数字的数组。
7. 智力题：一共100个球，有两个人（你和另一个人），每人每次取1-4个球，谁先取完谁赢，问你如何制定策略可以确保无论怎么样都是你自己赢。
8. 没有八股文。

---

#### 7.26 虾皮后端开发一面

11点开始

1. 自我介绍、项目介绍（问了数据量
2. 了解微服务吗？（有没有自己在做项目时进行调研，了解企业目前常用的工具、方法）
3. 了解springcloud吗？
4. 一台机器无法满足运载需求，怎么办呢？答：多搞几台机器，问：多台机器如何协同工作？
5. 开始瞎答：mapreduce
6. 解释一下mapreduce
7. 如果有一个很大的文件，TB级别，乱序的数字做排序，mapreduce如何实现？
8. 排序过程中的归并排序，请描述一下其过程？答得很简略，还问partition和merge的具体过程（不用写代码但需要详细描述每一个步骤），时间复杂度
9. 进程、线程区别，问使用Java时，里面多线程的概念和os里的线程进程的区别是什么？真正使用时，Java里的线程和进程是如何调度？
10. 多线程的同步互斥的方法？答了信号量，问具体怎么实现，答pv操作，给了具体的场景，问变量如何初始化（等同于口述代码）
11. 还问了有没有其他的方法，只答了名称，不了解原理，就没继续问了。
12. 有哪些索引？（mysql为例）
13. b树、b+树是什么样的树结构，查询复杂度？是平衡二叉树吗？
14. 使用过redis吗？具体做什么？
15. 手撕代码：LRU算法（这个算法在leetcode上看了两遍当时以为考了这么多次面试不会问了就偷懒没看，结果看到题目我直接吐血==）
16. 思路不对所以换了道题：正反序层序遍历二叉树，[剑指offer32](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-iii-lcof/)
17. 反问环节

---

#### 7.27 字节测开二面

45分钟

1. 自我介绍、项目介绍
2. 项目遇到哪些难点、如何解决的
3. 为什么选测开
4. 算法题：查找两个字符串最长公共子串：lc718（要求不能暴力）
5. 如何设计淘宝购物车支付功能的测试样例
6. 如果扣款成功，但是淘宝显示订单购买失败，有哪些原因？
7. 优点、缺点、如何改进
8. 进程互斥的方法
9. 命令查询80端口是否被占用
10. sql如何查询10-20行语句（说出关键字即可不用写）
11. 反问：部门是基础架构，测开工作测试和开发都做，偏测试。

---

#### 7.28 百度测开二面

1. 自我介绍、项目介绍
2. 线程、进程区别
3. 进程间的通信方式
4. 写sql，找出成绩前三名的同学名字
5. 算法题：简单题
6. 怎么理解测开岗位，做过什么相关测试的工作，为什么要投测开
7. 并发压测的指标有啥（不会）
8. 如何测试电梯

反问环节聊天聊了十几分钟，自我感觉良好==

---

#### 8.3 百度测开三面

聊天：你的个性、为什么做测开、测试有什么缺点呢、喜欢写代码吗

算法题：日期差、代码找错、概率题、

测试题：多台电梯联动测试、水杯图层有毒怎么办

有其他offer吗，投的都是测开吗，可以实习吗

---

#### 8.3 字节测开三面

项目介绍

多台服务器的并发控制

悲观锁、乐观锁概念，具体在数据库怎么实现

面向过程、面向对象、面向切面解释、区别

python的类，引用、实例化区别

重载和重写区别？python为什么没有重载

python内存管理机制

http报文内容，和tcp的关系

udp是否可以做成可靠的传输？

为什么选测开

测试的流程

测试牛客网的输入框

如果A给B发消息，A发过去了，B没收到，如何找错？

网络有问题怎么排错？

算法：三数之和

反问：具体做啥

面试官来了一句，因为你投的语音和视频部门（内心崩溃部门我没法选啊），所以问了很多http相关的知识（答得一塌糊涂，可以说是根本不知道）

几乎每个问题都只答出来一半，学得不是很深入

---

#### 8.9 字节测开调岗继续二面

1. 自我介绍，项目介绍
2. Python有哪些魔法方法，在什么场景下用到的？
3. 域名解析的过程
4. TCP和UDP的区别
5. 如果我想要设计一个协议，既想要TCP的可靠，又想要UDP的速度，怎么设计？（聊了很久）
6. 什么是内存泄漏
7. 算法题：最大数lc179
8. 测试问题：地铁过闸机口，功能测试，性能测试（提示跑了一天，多台闸机之间测试），真的让人去地铁实际刷卡吗？

---

#### 8.11 美团测开一面

1. 自我介绍、项目介绍
2. Java和Python的区别
3. 一个非常大的文件，内含多个单词，找出出现次数前十的单词
4. 算法题：lc78 子集（口述思路，没有写代码）
5. hashmap的数据结构（不会Java）
6. 用过中间件吗？缓存DB？mq队列？（没有）
7. MySQL的索引了解吗（B+树，终于有会的了。。。）
8. 什么是B+树，和B树有什么区别？
9. B+树做查找的过程
10. 项目中有遇到什么问题？亮点？
11. 如果要做一个秒杀系统，对高并发的情况如何优化性能？已知明天要某业务进行秒杀，访问量是平常的百倍不止，你会怎么优化这个系统？
12. 缓存数据库的数据不一致怎么处理？
13. 缓存数据库如redis分布式锁？
14. TCP的三次握手和四次挥手过程，为什么需要四次挥手？
15. 面试官介绍部门：基础架构部门，主要做运维工具开发，故障管理，产品：雷达，发生故障时，要去做定位、维护、预测等等，也有算法，故障和故障之间可能会有关系，强依赖弱依赖，分析之间的关系。算法开发都有，面试官主要做开发，Java

---

#### 8.12 字节测开三面

1. 项目介绍

   - 国内有其他做的很好的方法吗？有什么借鉴的地方？

   - 有遇到什么困难？如何解决

2. python:
   - 中文显示错误什么原因，怎么修改
   - python文件前面的encoding utf-8是什么意思
   - `__self__` 有什么作用
   - Python有哪些容器，自带的和导入的有什么区别
   - pop操作和remove操作有什么区别

3. 算法题：最大连续子数组、并设计测试样例
4. 怎么理解测试开发，为什么选测试开发
5. 你觉得自己有哪些缺点
6. 可以实习吗

---

#### 8.16 远景测开一面

1. 项目介绍
2. 项目有涉及到测试吗
3. 哪些测试方法，具体如何做
4. 开发的流程中有哪些测试过程
5. 用过测试框架吗
6. 了解远景这个公司吗
7. 反问

---

#### 8.17 美团测开二面

1. 项目介绍，问了成绩，有没有拿过奖学金
2. 怎么理解死锁
3. 如何预防死锁
4. Linux底层了解吗
5. Linux创建线程进程的区别
6. 为什么线程设置为共享内存
7. 长连接和短链接区别
8. tcp为什么可靠
9. 怎么保证重传？
10. https怎么保证加密可靠
11. http无状态怎么设计成有状态
12. cookie会一直在报文里面吗
13. cookie和session的区别
14. 怎么理解红黑树，红黑节点怎么设计
15. 怎么理解堆，堆排序的过程
16. k个节点翻转链表

---

#### 8.20 腾讯测开一面



- 数据结构
  - B树和B+树区别
  - 堆、栈、队列区别

- 数据库
  - 事务隔离级别、什么是脏读、幻读

  - 数据库锁：行锁，表锁，乐观锁，悲观锁，使用场景

  - 数据库操作：内连接、外连接、联表查询

    > 内连接：交集
    >
    > 左外连接：交集和左边剩余的集合
    >
    > 右外连接：交集和右边剩余的集合
- 计网
  - 长短连接区别和优缺点
- 算法
  - 中序、后序构建二叉树
  - 二维数组查找目标值

---

三元写法

> exp1 if contion else exp2

init 和 new

> init 初始化一个类实例，但new才是实例化一个类最先被调用的方法
>
> init是实例方法，new是类方法，new是申请一个内存（创建对象并返回对象），init把这个内存上填东西（实例化的对象）

解释self

> 函数第一个参数是实例对象本身（Java里的this），表示当前类的对象，可以调用当前类中的属性和方法，但调用类方法时，不需要传递self参数，但类中函数内部互相调用需要加self

GC算法

> 垃圾回收机制
>
> 引用计数在循环引用时无解，需要引入其他的垃圾回收（标记、清楚 Mark and Sweep）来对其补充
>
> 1. 标记清除
>    - A）标记阶段，遍历所有的对象，如果是可达的（reachable），也就是还有对象引用它，那么就标记该对象为可达；
>    - B）清除阶段，再次遍历对象，如果发现某个对象没有标记为可达，则就将其回收。
>
> **上面描述的垃圾回收的阶段，会暂停整个应用程序，等待标记清除结束后才会恢复应用程序的运行。**
>
> 在循环引用对象的回收中，整个应用程序会被暂停，为了减少应用程序暂停的时间
>
> 2. 复制算法
>
>    将内存分为两块，每次只使用其中的一块。当这一块内存用完了，就将还存活的对象复制到另一块上，然后再把已使用过的内存空间一次清理掉。这样使得每次都是对一整块内存回收，内存分配时候也不用考虑内存碎片等复杂情况，只要移动堆顶指针，按顺序分配即可，实现简单，运行高效。缺点是一次只能使用一部分内存，会有一些浪费。一般新生代会选择这种算法。
>
> 3. 标记-整理算法
>
>    复制算法存在两个问题，1）会浪费50%的空间 2）如果被使用的内存中所有对象都100%存活的极端情况，就需要有额外的空间进行分配担保，因此老年代一般不能直接选用复制算法。有人提出了另外一种“标记-整理”（Mark-Compact）算法，标记过程仍然与“标记-清除”一样，后续步骤让所有存活的对象都向一端移动，然后直接清理掉端边界以外的内存。
>
> Python 通过**“分代回收”(Generational Collection)**以空间换时间的方法提高垃圾回收效率。
>
> 4. 分代回收是基于这样的一个统计事实，**对于程序，存在一定比例的内存块的生存周期比较短；而剩下的内存块，生存周期会比较长，甚至会从程序开始一直持续到程序结束。生存期较短对象的比例通常在 80%～90% 之间，这种思想简单点说就是：对象存在时间越长，越可能不是垃圾，应该越少去收集。这样在执行标记-清除算法时可以有效减小遍历的对象数，从而提高垃圾回收的速度。**
>
> 分代回收算法并没有什么新的思想，只是根据对象存活周期的不同将内存划分为几块。比如新生代和老年代，不同代使用不同的回收算法。比如新生代使用复制算法，而老年代使用标记-清除或标记-整理算法

字典遍历

```python
dic = {'a':1, 'b':2, 'c':3}
# 遍历key
for key in dic:
    print(key)
# 遍历key
for key in dic.keys():
    print(key)
# 遍历value
for value in dic.values():
    print(value)
# 遍历字典项,items返回一个元祖（key,value）
for key, value in dic.items():
    print(key, value)
# 根据key排序
sorted(dic.keys())
# 注意这样排序字典会变成list
sorted(dic.items, key=lambda item:item[0])
# 根据value排序
sorted(dic.items, key=lambda item:item[1])
```



匿名函数

> lambda表示匿名函数，冒号前面的 x 表示参数

```python
>>> f = lambda x: x*x
>>> f
<function <lambda> at 0x1232453543>
>>> f
25
def build(x, y):
    return lambda: x*x + y*y
```



算法：翻转整数，反转字符串

测试用例

pass、break、continue

> pass 占位
>
> exit()：结束整个程序

负指数

```python
li[-1]
# 返回数组中最后一个值
```



range xrange区别

> range() 返回一个list对象，xrange() 返回一个生成器对象（xrange object），每次调用只返回其中一个值，内存空间使用极少，所以新恩能够比较好，但是Python3没有xrange，取消了range，将xrange重命名为range，现在Python3中的range就是生成器对象，用一次生成一次，如果需要一个list用list(range(...))

随机化列表元素

```python
shuffle(li)
```

随机数

```python
import random
random.random # 返回[0,1]范围的浮点数
randrange(a,b) # a,b之间的整数
```



原子操作的原理

浏览器访问站点刷不开白屏

抓包工具看网络协议？

> 只抓取http，mitmproxy，测试可以抓包后一键重发请求来重现bug，开发调试可以修改请求内容

自动化测试框架

> Selenium：开源框架，兼容性好
>
> Pytest：有断言重写的功能（assert rewriting）

索引失效的原因

> 1. 表增长，where的数据太多，大于15%，索引失效，导致CBO计算走索引花费大于走全表
>
> 2. 统计信息失效，需要重新搜集统计信息
> 3. 索引本身失效，需要重建索引
>    - 没有查询条件，查询条件没有建立索引；查询的数量超过大表的30%（太多）

页面显示不正确，原因，定位

> 前端：http response查看
>
> 服务传输：CDN DNS
>
> 后端：代码bug，日志定位
>
> 数据库：字段，长度

什么是内存泄漏，有什么危害，怎么排查内存泄漏，主要发生在哪个区域（内存泄漏）

> new了新地址，没还，自己也不知道在哪，系统也没法释放
>
> 危害：内存泄漏堆积（用户一般感受不到），用了几个月几天不及时释放会耗尽系统内存（隐式内存泄漏）

如果udp要保证可靠传输，怎么设计

测试一个网页的性能有哪些指标，各个浏览器有自己的指标了解吗

> 响应时间
>
> 吞吐量（TPS每秒处理的事务数、QPS每秒查询的请求数、HPS每秒HTTP请求数）
>
> 并发量
>
> 性能计数器：内存使用、CPU使用、磁盘I/O情况、对象和线程数目

TCP半关闭半打开半连接，如何攻击

> 半连接：SYN攻击，一直发SYN，耗尽内存资源

视频加载慢的原因



算法

aoti函数（字符串转int）

双栈实现队列

股票买卖

排列组合

32位有符号整数反转



- 算法：

  1. 两个栈实现队列

- 操作系统：

  1. 大端序、小端序

  2. 进程的内存空间有什么

  3. 线程比进程快

     > 进程切换牵涉资源切换，CPU缓存中的cache切换过程会有缺页中断，额外开销 TLB高速缓存。

  4. 四种多线程实现机制

- 网络：

  1. http1.0 和 http1.1 的区别

  2. **session和cookie的区别**

  3. dns劫持原理

  4. sql注入手段

     > 刚刚讲过当我们访问动态网页时, Web 服务器会向数据访问层发起 Sql 查询请求，如果权限验证通过就会执行 Sql 语句。
     >
     > 这种网站内部直接发送的Sql请求一般不会有危险，但实际情况是很多时候需要**结合**用户的输入数据动态构造 Sql 语句，**如果用户输入的数据被构造成恶意 Sql 代码**，Web 应用又未对动态构造的 Sql 语句使用的参数进行审查，则会带来意想不到的危险。

     威胁：

     > - 猜解后台数据库，这是利用最多的方式，盗取网站的敏感信息。
     > - 绕过认证，例如绕过验证登录网站后台。
     > - 注入可以借助数据库的存储过程进行提权等操作

  5. 如何预防别人的sql注入

     - 提前判断：字符串是否有单引号，非法字符（正则表达式）
     - 限制长度
     - 防止 SQL 注入最直观的方法是使用 PREPARE 来预编译 SQL 语句，这样语义就群定下来了。

  6. 打开一个https的过程

- 数据库：

  1. 索引什么用，越多越好嘛
  2. 怎么判断创建索引的好坏
  3. 为什么使用B+树
  4. 索引再什么条件下不推荐使用
  5. SQL
     - group by  having
     - 内连接

- Python：

  1. python为什么有GIL全局解释器
  2. 是否区分大小写
  3. 数组和列表的区别
  4. 局部变量和全局变量
